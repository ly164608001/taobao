<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lxhrainy.myjz.admin.user.dao.IUserAccountDao">
    
	<sql id="userAccountColumns">
		T.id AS "id",
		T.userid AS "user.id",
		T.createtime AS "createtime",
		T.bankid AS "bankid",
		T.accountname AS "accountname",
		T.accountno AS "accountno",
		T.region AS "region",
		T.regionid AS "regionid",
		T.bankname AS "bankname"
	</sql>
	
	<sql id="userAccountJoins">
	</sql>
    
    <sql id="where">
		<if test="condition!=null">
			<where>
				1 = 1
				<if test="condition.model!=null">
				</if>
			</where>
		</if>
	</sql>
	
	<select id="getById" resultType="UserAccount">
		SELECT 
			<include refid="userAccountColumns"/>
		FROM user_account T
		<include refid="userAccountJoins"/>
		WHERE T.id = #{id}
	</select>
	
	<select id="findListByPage" resultType="UserAccount">
		SELECT 
			<include refid="userAccountColumns"/>
		FROM user_account T
		<include refid="userAccountJoins"/>
		<include refid="where"/>
		order by T.ID
			<include refid="Sql.pager" />
	</select>
	
	<select id="findAllList" resultType="UserAccount">
		SELECT 
			<include refid="userAccountColumns"/>
		FROM user_account T
		<include refid="userAccountJoins"/>
		<include refid="where"/>
	</select>
	
	<select id="getCountByCondition" resultType="int">
		SELECT 
			COUNT(1)
		FROM user_account T
		<include refid="userAccountJoins"/>
		<include refid="where"/>
	</select>
	
	<insert id="insert">
		INSERT INTO user_account(
			id,
			userid,
			createtime,
			bankid,
			accountname,
			accountno,
			region,
			regionid,
			bankname
		) VALUES (
			#{id},
			#{user.id},
			#{createtime},
			#{bankid},
			#{accountname},
			#{accountno},
			#{region},
			#{region.id},
			#{bankname}
		)
	</insert>
	
	<update id="update">
		UPDATE user_account SET 	
			userid = #{userid},
			createtime = #{createtime},
			bankid = #{bankid},
			accountname = #{accountname},
			accountno = #{accountno},
			region = #{region},
			regionid = #{regionid},
			bankname = #{bankname}
		WHERE id = #{id}
	</update>
	
	<update id="delete">
		DELETE FROM user_account
		WHERE id = #{id}
	</update>
	
</mapper>