<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lxhrainy.myjz.admin.order.dao.IOrderAppraiseDao">
    
	<sql id="orderAppraiseRecordColumns">
		T.id AS "id",
		T.userid AS "userid",
		T.createtime AS "createtime",
		T.pricestar AS "pricestar",
		T.placestar AS "placestar",
		T.trafficstar AS "trafficstar",
		T.conditionstar AS "conditionstar",
		T.pics AS "pics",
		T.content AS "content",
		T.servicemannerstar AS "servicemannerstar",
		T.serviceskillstar AS "serviceskillstar",
		T.appraisecontent AS "appraisecontent",
		T.orderid AS "orderid",
		T.appendcontent AS "appendcontent",
		T.appendappraisecontent AS "appendappraisecontent"
	</sql>
	
	<sql id="orderAppraiseRecordJoins">
	</sql>
    
    <sql id="where">
		<if test="condition!=null">
			<where>
			    1 = 1 
				<if test="condition.model!=null">
					<if test="condition.model.deleted!=null">
						AND T.deleted = #{condition.model.deleted}
					</if>
				</if>
			</where>
		</if>
	</sql>
	
	<select id="getById" resultType="OrderAppraiseRecord">
		SELECT 
			<include refid="orderAppraiseRecordColumns"/>
		FROM order_appraise_record T
		<include refid="orderAppraiseRecordJoins"/>
		WHERE T.id = #{id}
	</select>
	
	<select id="findListByPage" resultType="OrderAppraiseRecord">
		SELECT 
			<include refid="orderAppraiseRecordColumns"/>
		FROM order_appraise_record T
		<include refid="orderAppraiseRecordJoins"/>
		<include refid="where"/>
		order by T.ID DESC
			<include refid="Sql.pager" />
	</select>
	
	<select id="findAllList" resultType="OrderAppraiseRecord">
		SELECT 
			<include refid="orderAppraiseRecordColumns"/>
		FROM order_appraise_record T
		<include refid="orderAppraiseRecordJoins"/>
		<include refid="where"/>
	</select>
	
	<select id="getCountByOrder" resultType="int">
		SELECT COUNT(1)
		FROM order_appraise_record T
		WHERE orderid = #{orderid}
	</select>
	
	<insert id="insert">
		INSERT INTO order_appraise_record(
			id,
			userid,
			createtime,
			pricestar,
			placestar,
			trafficstar,
			conditionstar,
			pics,
			content,
			servicemannerstar,
			serviceskillstar,
			appraisecontent,
			orderid,
			appendcontent,
			appendappraisecontent
		) VALUES (
			#{id},
			#{userid},
			#{createtime},
			#{pricestar},
			#{placestar},
			#{trafficstar},
			#{conditionstar},
			#{pics},
			#{content},
			#{servicemannerstar},
			#{serviceskillstar},
			#{appraisecontent},
			#{orderid},
			#{appendcontent},
			#{appendappraisecontent}
		)
	</insert>
	
	<update id="update">
		UPDATE order_appraise_record SET 	
			userid = #{userid},
			createtime = #{createtime},
			pricestar = #{pricestar},
			placestar = #{placestar},
			trafficstar = #{trafficstar},
			conditionstar = #{conditionstar},
			pics = #{pics},
			content = #{content},
			servicemannerstar = #{servicemannerstar},
			serviceskillstar = #{serviceskillstar},
			appraisecontent = #{appraisecontent},
			orderid = #{orderid},
			appendcontent = #{appendcontent},
			appendappraisecontent = #{appendappraisecontent}
		WHERE id = #{id}
	</update>
	
	<update id="deleteById">
		update order_appraise_record set 
			deleted=1
		WHERE id = #{id}
	</update>
	
</mapper>